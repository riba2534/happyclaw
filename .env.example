# ============================================================
# HappyClaw 环境变量配置模板
# 使用方法：复制此文件为 .env，按需填写后启动服务
#   cp .env.example .env
# ============================================================

# ─── 应用 ────────────────────────────────────────────────────

# AI 助手名称，显示在界面和 IM 消息中（默认：HappyClaw）
# ASSISTANT_NAME=HappyClaw

# ─── Web 服务器 ───────────────────────────────────────────────

# HTTP 监听端口（默认：3000）
# WEB_PORT=3000

# Node.js 运行环境：production | development（默认：development）
# 生产环境会启用 __Host- 前缀 Cookie，要求 HTTPS
# NODE_ENV=production

# 是否信任反向代理的 X-Forwarded-* 头部
# 部署在 nginx / Cloudflare 等反向代理后面时设为 true（默认：false）
# TRUST_PROXY=false

# Cookie 签名密钥（可选）
# 若不设置，系统会自动生成并持久化到 data/config/session-secret.key
# 生产环境建议显式设置，防止重启后 Cookie 失效
# WEB_SESSION_SECRET=your-secret-here

# ─── CORS ────────────────────────────────────────────────────

# 允许跨域的来源白名单，逗号分隔；设为 * 允许全部（默认：空，仅 localhost）
# CORS_ALLOWED_ORIGINS=https://your-domain.com,https://your-other-domain.com

# 是否允许 localhost / 127.0.0.1 跨域（默认：true）
# CORS_ALLOW_LOCALHOST=true

# ─── 认证限流 ─────────────────────────────────────────────────

# 登录失败多少次后锁定账户（默认：5）
# MAX_LOGIN_ATTEMPTS=5

# 账户锁定持续分钟数（默认：15）
# LOGIN_LOCKOUT_MINUTES=15

# ─── 日志 ─────────────────────────────────────────────────────

# pino 日志级别：trace / debug / info / warn / error / fatal（默认：info）
# LOG_LEVEL=info

# ─── 容器 ─────────────────────────────────────────────────────

# Docker 镜像名称（默认：happyclaw-agent:latest）
# CONTAINER_IMAGE=happyclaw-agent:latest

# 容器最大运行时间，毫秒（默认：1800000，即 30 分钟）
# CONTAINER_TIMEOUT=1800000

# 单次容器输出最大字节数（默认：10485760，即 10MB）
# CONTAINER_MAX_OUTPUT_SIZE=10485760

# 容器空闲超时，毫秒（默认：1800000，即 30 分钟）
# IDLE_TIMEOUT=1800000

# 宿主机模式最大并发进程数（默认：5）
# MAX_CONCURRENT_HOST_PROCESSES=5

# ─── Claude / Anthropic ───────────────────────────────────────
# 以下凭据也可以在 Web 界面的"设置 → Claude"中配置，两者选其一即可。
# 环境变量会作为初始默认值，Web 界面中保存后会覆盖。

# Anthropic API Key（与 ANTHROPIC_AUTH_TOKEN 二选一）
# ANTHROPIC_API_KEY=sk-ant-api03-...

# Anthropic Bearer Auth Token（企业/代理场景）
# ANTHROPIC_AUTH_TOKEN=

# 自定义 Anthropic API Base URL（使用代理或私有部署时填写，留空使用官方地址）
# ANTHROPIC_BASE_URL=

# Claude  Code OAuth Token
# CLAUDE_CODE_OAUTH_TOKEN=

# ─── 飞书（Lark）──────────────────────────────────────────────
# 以下凭据也可以在 Web 界面的"设置 → 飞书"中配置。

# 飞书应用 App ID
# FEISHU_APP_ID=

# 飞书应用 App Secret
# FEISHU_APP_SECRET=

# ─── Telegram ─────────────────────────────────────────────────
# 以下凭据也可以在 Web 界面的"设置 → Telegram"中配置。

# Telegram Bot Token
# TELEGRAM_BOT_TOKEN=

# ─── 系统（通常无需手动设置）────────────────────────────────────

# 定时任务时区（默认：系统时区）
# 示例：Asia/Shanghai、America/New_York
# TZ=Asia/Shanghai
